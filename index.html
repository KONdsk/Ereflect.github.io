<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>hello world</title>
  <p>Hello 大家好</p>
<p>我是霸都丶傲天，这是我的个人网站。 </p>
<p>很高兴你来到这里, 你可以在以下的网站找到我</p>

<ul>

  <li> <a href="https://www.zhihu.com/people/AJLoveChina">知乎</a> </li>
  <li> <a href="http://hejie.nigeerhuo.com">我的博客(已经不更细了,现在在知乎写文章)</a> </li>
</ul>
<script>
  // change varible 
var name = "John";
var age = 30;
var isMarried = false;

console.log(name + " is " + age + " years old.");
console.log("Is John married? " + isMarried);

// sort array 100-999
var numbers = [100, 34, 678, 90, 23, 56, 789, 12, 34, 567, 890];
for (var i = 0; i < numbers.length; i++) {
  for (var j = i + 1; j < numbers.length; j++) {
      if (numbers[i] > numbers[j]) {
          var temp = numbers[i];
          numbers[i] = numbers[j];
          numbers[j] = temp;
      }
  }
}

// quick sort 100-999
function quickSort(arr, left, right) {
  if (left < right) {
      var pivot = partition(arr, left, right);
      quickSort(arr, left, pivot - 1);
      quickSort(arr, pivot + 1, right);
  }
}

// 2048 game
var game = {
  board: [],
  score: 0,
  over: false,
  win: false,
  init: function () {
      for (var i = 0; i < 4; i++) {
          this.board[i] = [];
          for (var j = 0; j < 4; j++) {
              this.board[i][j] = 0;
          }
      }
      this.generateNumber();
      this.generateNumber();
  },
  generateNumber: function () {
      if (this.over) {
          return;
      }
      while (true) {
          var x = parseInt(Math.random() * 4);
          var y = parseInt(Math.random() * 4);
          if (this.board[x][y] === 0) {
              this.board[x][y] = parseInt(Math.random() * 10) > 5 ? 2 : 4;
              break;
          }
      }
  },
  move: function (direction) {
      if (this.over) {
          return;
      }
      if (direction === "left") { 
          for (var i = 0; i < 4; i++) {
              for (var j = 0; j < 4; j++) {
                  if (this.board[i][j] !== 0) {
                      var k = j + 1;
                      while (k < 4) {
                          if (this.board[i][k] === 0) {
                              k++;
                          } else if (this.board[i][j] === this.board[i][k]) {
                              this.board[i][j] *= 2;
                              this.board[i][k] = 0;
                              this.score += this.board[i][j];
                              break;
                          } else {
                              break;
                          }
                      }
                  }
              }
          }
      }
      if (direction === "right") {
          for (var i = 0; i < 4; i++) {
              for (var j = 3; j >= 0; j--) {
                  if (this.board[i][j] !== 0) {
                      var k = j - 1;
                      while (k >= 0) {
                          if (this.board[i][k] === 0) {
                              k--;
                          } else if (this.board[i][j] === this.board[i][k]) {
                              this.board[i][j] *= 2;
                              this.board[i][k] = 0;
                              this.score += this.board[i][j];
                              break;
                          } else {
                              break;
                          }
                      }
                  }
              }
          }
      }
      if (direction === "up") {
          for (var j = 0; j < 4; j++) {
              for (var i = 0; i < 4; i++) {
                  if (this.board[i][j] !== 0) {
                      var k = i + 1;
                      while (k < 4) {
                          if (this.board[k][j] === 0) {
                              k++;
                          } else if (this.board[i][j] === this.board[k][j]) {
                              this.board[i][j] *= 2;
                              this.board[k][j] = 0;
                              this.score += this.board[i][j];
                              break;
                          } else {
                              break;
                          }
                      }
                  }
              }
          }
      }
      if (direction === "down") {
          for (var j = 0; j < 4; j++) {
              for (var i = 3; i >= 0; i--) {
                  if (this.board[i][j] !== 0) {
                      var k = i - 1;
                      while (k >= 0) {
                          if (this.board[k][j] === 0) {
                              k--;
                          } else if (this.board[i][j] === this.board[k][j]) {
                              this.board[i][j] *= 2;
                              this.board[k][j] = 0;
                              this.score += this.board[i][j];
                              break;
                          } else {
                              break;
                          }
                      }
                  }
              }
          }
      }
      this.generateNumber();
      this.checkOver();
      this.checkWin();
  },
  checkOver: function () {
      for (var i = 0; i < 4; i++) {
          for (var j = 0; j < 4; j++) {
              if (this.board[i][j] === 0) {
                  return;
              }
          }
      }
      this.over = true;
  },
  checkWin: function () {
      for (var i = 0; i < 4; i++) {
          for (var j = 0; j < 4; j++) {
              if (this.board[i][j] === 2048) {
                  this.win = true;
              }
          }
      }
  }
}
game.init();
console.log(game.board);
game.move("left");
console.log(game.board);
game.move("up");
console.log(game.board);
game.move("right");
console.log(game.board);
game.move("down");
</script>
</head>
<body>
 
</body>
</html>